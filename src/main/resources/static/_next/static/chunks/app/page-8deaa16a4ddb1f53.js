(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(5155),a=s(2115),l=s(7168),n=s(3999);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});i.displayName="Input";var c=s(8482),d=s(9946);let o=(0,d.A)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var m=s(7434),x=s(1788),u=s(227);let h=(0,d.A)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),p=(0,d.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),f=(0,d.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var b=s(2178),g=s(5690);function v(){let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(!1),[d,v]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),[N,w]=(0,a.useState)(""),[k,A]=(0,a.useState)([]),[R,C]=(0,a.useState)(-1),[_,S]=(0,a.useState)(""),[I,Z]=(0,a.useState)(""),[z,F]=(0,a.useState)(!1),[E,W]=(0,a.useState)(!1),B=(0,a.useRef)(null),L=(0,a.useRef)(null),M="http://localhost:9003",Q=e=>{let t=e.split(/\r?\n/),s=/\[(\d+(?:\.\d+)?) ~ (\d+(?:\.\d+)?)\]/,r=[];for(let e of t){let t=e.match(s);if(t){let a=parseFloat(t[1]),l=parseFloat(t[2]),n=e.replace(s,"").trim();n&&r.push({start:a,end:l,text:n})}}return r},T=async()=>{if(e.trim()){v(null),n(!0),y(null),w(""),A([]),C(-1),S(""),Z(""),F(!1),W(!1);try{let t=await fetch("".concat(M,"/api/process"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error("분석 요청 실패");let s=await t.json();if("success"!==s.result)throw Error("처리 실패");if(y(s.uriId),w(s.lyrics||""),S(s.no_vocals_url.startsWith("http")?s.no_vocals_url:M+s.no_vocals_url),Z("".concat(M,"/api/download/").concat(s.uriId,"/subtitle")),F(!0),s.lyrics){let e=Q(s.lyrics);A(e)}}catch(e){console.error("분석 요청 중 오류:",e),v("분석 요청 중 오류가 발생했습니다.")}finally{n(!1)}}},U=()=>{W(!1)};(0,a.useEffect)(()=>{let e=B.current;if(e)return e.addEventListener("ended",U),()=>e.removeEventListener("ended",U)},[]);let $=[{icon:(0,r.jsx)(o,{className:"h-8 w-8 text-blue-600"}),title:"보컬 제거",description:"AI 기술로 음악에서 보컬을 깔끔하게 분리하여 MR(반주) 음원을 생성합니다."},{icon:(0,r.jsx)(m.A,{className:"h-8 w-8 text-green-600"}),title:"가사 추출",description:"음성 인식 기술을 활용하여 노래에서 가사를 자동으로 추출하고 텍스트로 변환합니다."},{icon:(0,r.jsx)(x.A,{className:"h-8 w-8 text-purple-600"}),title:"간편한 다운로드",description:"처리된 오디오 파일과 추출된 가사를 각각 다운로드할 수 있습니다."}];return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,r.jsxs)("div",{className:"text-center mb-16",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,r.jsx)("div",{className:"bg-primary/10 p-4 rounded-full",children:(0,r.jsx)(u.A,{className:"h-12 w-12 text-primary"})})}),(0,r.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"음악 분석기"}),(0,r.jsxs)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:["유튜브 영상에서 보컬과 가사를 AI로 분석하고 추출하는",(0,r.jsx)("br",{}),"차세대 음악 처리 서비스"]})]}),(0,r.jsx)("div",{className:"max-w-md mx-auto mb-20",children:(0,r.jsxs)(c.Zp,{className:"shadow-xl border-0",children:[(0,r.jsx)(c.aR,{children:(0,r.jsx)(c.ZB,{className:"text-xl text-center",children:"지금 바로 시작하기"})}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"youtube-url",className:"text-sm font-medium text-gray-700",children:"유튜브 URL"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(i,{id:"youtube-url",type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:e,onChange:e=>t(e.target.value),className:"pl-10",disabled:s})]})]}),(0,r.jsx)(l.$,{onClick:T,disabled:!e.trim()||!/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(e)||s,className:"w-full",size:"lg",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{className:"mr-2 h-4 w-4 animate-spin"}),"분석 중..."]}):(0,r.jsxs)(r.Fragment,{children:["분석 시작",(0,r.jsx)(f,{className:"ml-2 h-4 w-4"})]})}),d&&(0,r.jsx)("p",{className:"text-red-600 mt-2 text-center",children:d}),s&&(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"영상을 처리하고 있습니다..."}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"샘플 URL로 테스트해보세요:"}),(0,r.jsx)("div",{className:"space-y-1",children:["https://www.youtube.com/watch?v=dQw4w9WgXcQ","https://www.youtube.com/watch?v=kJQP7kiw5Fk","https://www.youtube.com/watch?v=fJ9rUzIMcZQ"].map((e,a)=>(0,r.jsx)("button",{onClick:()=>t(e),className:"text-xs text-blue-600 hover:text-blue-800 block truncate w-full text-left",disabled:s,children:e},a))})]})]})]})}),z&&(0,r.jsx)("div",{className:"max-w-md mx-auto p-4 mb-8 bg-green-100 text-green-800 rounded text-center font-semibold",children:"\uD83C\uDF89 처리 완료! 결과를 확인하세요."}),j&&(0,r.jsxs)("div",{className:"mb-20",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"결과"}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)(c.Zp,{className:"shadow-lg border-0",children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(o,{className:"h-5 w-5"}),"처리된 오디오"]})}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,r.jsx)("button",{onClick:()=>{if(!B.current)return;let e=B.current;e.paused?e.play().then(()=>{W(!0)}).catch(e=>{console.error("오디오 재생 오류:",e)}):(e.pause(),W(!1))},className:"bg-primary/10 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 hover:bg-primary/20",children:E?(0,r.jsx)(b.A,{className:"h-8 w-8 text-primary"}):(0,r.jsx)(g.A,{className:"h-8 w-8 text-primary"})}),(0,r.jsx)("audio",{ref:B,controls:!0,src:_,className:"w-full",onTimeUpdate:()=>{if(!B.current||0===k.length)return;let e=B.current.currentTime,t=k.findIndex(t=>e>=t.start&&e<t.end);if(t!==R&&(C(t),L.current&&-1!==t)){let e=L.current.querySelector('[data-index="'.concat(t,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}})]}),(0,r.jsxs)(l.$,{variant:"outline",className:"w-full bg-transparent",onClick:()=>window.open(_,"_blank"),disabled:!_,children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"오디오 다운로드"]})]})]}),(0,r.jsxs)(c.Zp,{className:"shadow-lg border-0",children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-5 w-5"}),"추출된 가사"]})}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsx)("div",{ref:L,className:"bg-gray-50 rounded-lg p-4 h-48 overflow-y-auto whitespace-pre-wrap text-sm text-gray-700 font-mono leading-relaxed",style:{scrollBehavior:"smooth"},children:k.length>0?k.map((e,t)=>(0,r.jsx)("p",{"data-index":t,className:"py-0.5 ".concat(t===R?"text-primary font-semibold bg-primary/20 rounded":""),children:e.text},t)):N||"가사를 불러오는 중입니다..."}),(0,r.jsxs)(l.$,{variant:"outline",className:"w-full bg-transparent",onClick:()=>window.open(I,"_blank"),disabled:!I,children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"가사 다운로드"]})]})]})]})})]}),(0,r.jsxs)("div",{className:"mb-20",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"주요 기능"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:$.map((e,t)=>(0,r.jsx)(c.Zp,{className:"text-center shadow-lg border-0 hover:shadow-xl transition-shadow",children:(0,r.jsxs)(c.Wu,{className:"pt-8 pb-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]})},t))})]}),(0,r.jsxs)("div",{className:"mb-20",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"사용 방법"}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{number:"01",title:"유튜브 링크 입력",description:"분석하고 싶은 유튜브 음악 영상의 URL을 입력하세요."},{number:"02",title:"AI 분석 시작",description:"고급 AI 알고리즘이 음성과 반주를 분리하고 가사를 추출합니다."},{number:"03",title:"결과 확인 및 다운로드",description:"처리된 오디오를 재생하고 추출된 가사를 확인한 후 다운로드하세요."}].map((e,t)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-primary text-white rounded-full w-16 h-16 flex items-center justify-center text-xl font-bold mx-auto mb-4",children:e.number}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))})})]})]})})}},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},6319:(e,t,s)=>{Promise.resolve().then(s.bind(s,3945))},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),l=s(4624),n=s(2085),i=s(3999);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:d=!1,...o}=e,m=d?l.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(c({variant:a,size:n,className:s})),ref:t,...o})});d.displayName="Button"},8482:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i});var r=s(5155),a=s(2115),l=s(3999);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[570,441,684,358],()=>t(6319)),_N_E=e.O()}]);